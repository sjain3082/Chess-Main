<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Game Code</title>
        <style>
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                background: #2b2d42;
                color: white;
                height: 100vh;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                margin: 0;
            }
            h2 {
                font-size: 2.5rem;
                margin-bottom: 20px;
            }
            #codeInput {
                padding: 10px;
                font-size: 16px;
                border: 1px solid #fff;
                border-radius: 5px;
                margin-bottom: 20px;
            }
            button {
                padding: 10px 20px;
                margin: 10px;
                background: #d90429;
                color: #fff;
                border: none;
                border-radius: 5px;
                cursor: pointer;
            }
        </style>
    </head>
    <body>
        <h2>Game Code</h2>
        <input type="text" id="codeInput" placeholder="Enter code">
        <button id="createGame">Create Game</button>
        <button id="joinGame">Join Game</button>
        <div id="errorMessage" style="color: red;"></div>

        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script>
            $('#createGame').on('click', function () {
                console.log('Redirecting to /white?code=' + $('#codeInput').val());
                window.location.href = '/white?code=' + $('#codeInput').val();
            });

            $('#joinGame').on('click', function () {
                console.log('Redirecting to /black?code=' + $('#codeInput').val());
                window.location.href = '/black?code=' + $('#codeInput').val();
            });

            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('error') === 'invalidCode') {
                $('#errorMessage').text('Invalid invite code');
            }
        </script>
    </body>
</html>
